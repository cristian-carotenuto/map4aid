Index: map4aid_project/controllers/AutenticazioneControl.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import secrets\r\nfrom datetime import datetime, timedelta\r\nfrom flask import request, session, jsonify\r\nfrom .EmailControl import EmailControl\r\nfrom Map4aid.map4aid_model.models import Account, AccountBeneficiario, AccountEnteDonatore, AccountEnteErogatore\r\n\r\n\r\ndef init_routes(app):\r\n    @app.route(\"/register\", methods=[\"POST\"])\r\n    def register():\r\n        ruolo = request.form.get(\"ruolo\")\r\n        email = request.form.get(\"email\")\r\n        password = request.form.get(\"password\")\r\n        user = Account.query.filter_by(email=email).first()\r\n\r\n        if not ruolo or not email or not password:\r\n            return jsonify({\"error\": \"Campi obbligatori mancanti\"}), 400\r\n\r\n        if user:\r\n            return jsonify({\"error\": \"Email già registrata\"}), 409\r\n\r\n\r\n        # ----- BENEFICIARIO -----\r\n        if ruolo == \"beneficiario\":\r\n            nome = request.form.get(\"nome\")\r\n            cognome = request.form.get(\"cognome\")\r\n\r\n            if not nome or not cognome:\r\n                return jsonify({\"error\": \"Dati beneficiario incompleti\"}), 400\r\n\r\n            user = AccountBeneficiario(\r\n                email=email,\r\n                nome=nome,\r\n                cognome=cognome\r\n            )\r\n            user.set_password(password)\r\n\r\n        # ----- DONATORE -----\r\n        elif ruolo == \"donatore\":\r\n            partita_iva = request.form.get(\"partita_iva\")\r\n            categoria = request.form.get(\"categoria\")\r\n            nome_attivita = request.form.get(\"nome_attivita\")\r\n            indirizzo_sede = request.form.get(\"indirizzo_sede\")\r\n            nome = request.form.get(\"nome\")\r\n            cognome = request.form.get(\"cognome\")\r\n\r\n            if not all([partita_iva, categoria, nome_attivita,\r\n                        indirizzo_sede, nome, cognome]):\r\n                return jsonify({\"error\": \"Dati donatore incompleti\"}), 400\r\n\r\n            user = AccountEnteDonatore(\r\n                email = email,\r\n                nome = nome,\r\n                cognome = cognome,\r\n                partita_iva = partita_iva,\r\n                categoria = categoria,\r\n                nome_attivita = nome_attivita,\r\n                indirizzo_sede = indirizzo_sede\r\n            )\r\n            user.set_password(password)\r\n\r\n        # ----- ENTE EROGATORE -----\r\n        elif ruolo == \"erogatore\":\r\n            nome_org = request.form.get(\"nome_organizzazione\")\r\n            indirizzo_sede = request.form.get(\"indirizzo_sede\")\r\n            tipologia = request.form.get(\"tipologia_ente\")\r\n            iban = request.form.get(\"iban\")\r\n\r\n            if not all([nome_org, indirizzo_sede, tipologia, iban]):\r\n                return jsonify({\"error\": \"Dati ente erogatore incompleti\"}), 400\r\n\r\n            user = AccountEnteErogatore(\r\n                email = email,\r\n                nome_attivita = nome_org,\r\n                indirizzo_sede = indirizzo_sede,\r\n                tipologia = tipologia,\r\n                iban = iban\r\n            )\r\n            user.set_password(password)\r\n            email = request.form.get(\"email\")\r\n            if not email:\r\n                return jsonify({\"error\": \"Email mancante\"}), 400\r\n\r\n            # Genera codice OTP sicuro a 4 cifre\r\n            codice = secrets.randbelow(9000) + 1000  # tra 1000 e 9999\r\n\r\n            # Salva nella sessione solo temporaneamente con scadenza\r\n            session[\"registrazione\"] = {\r\n                \"user\": user,\r\n                \"codice\": str(codice),\r\n                \"expires_at\": (datetime.utcnow() + timedelta(minutes=10)).isoformat()\r\n            }\r\n\r\n            # Invia email con il codice\r\n            email_ok = EmailControl.invia_email_codice(email, codice)\r\n\r\n\r\n            if email_ok:\r\n                return jsonify({\"message\": \"Email inviata\"}), 200\r\n            else:\r\n                return jsonify({\"error\": \"Email non inviata\"}), 400\r\n\r\n        else:\r\n            return jsonify({\"error\": \"Ruolo non valido\"}), 400
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/map4aid_project/controllers/AutenticazioneControl.py b/map4aid_project/controllers/AutenticazioneControl.py
--- a/map4aid_project/controllers/AutenticazioneControl.py	(revision b2a8274b8beeb74add6dfb08b58ef940ee666433)
+++ b/map4aid_project/controllers/AutenticazioneControl.py	(date 1769193715495)
@@ -1,104 +1,95 @@
 import secrets
 from datetime import datetime, timedelta
-from flask import request, session, jsonify
-from .EmailControl import EmailControl
-from Map4aid.map4aid_model.models import Account, AccountBeneficiario, AccountEnteDonatore, AccountEnteErogatore
+from flask import request, session, jsonify, Blueprint
+from EmailControl import EmailControl
+from models.models import Account, AccountBeneficiario, AccountEnteDonatore, AccountEnteErogatore
+from models.pendngAccounts import PendingAccount
 
+auth_bp = Blueprint("auth", __name__)
 
-def init_routes(app):
-    @app.route("/register", methods=["POST"])
-    def register():
-        ruolo = request.form.get("ruolo")
-        email = request.form.get("email")
-        password = request.form.get("password")
-        user = Account.query.filter_by(email=email).first()
+@auth_bp.route("/register", methods=["POST"])
+def register():
+    ruolo = request.form.get("ruolo")
+    email = request.form.get("email")
+    password = request.form.get("password")
 
-        if not ruolo or not email or not password:
-            return jsonify({"error": "Campi obbligatori mancanti"}), 400
+    if not ruolo or not email or not password:
+        return jsonify({"error": "Campi obbligatori mancanti"}), 400
 
-        if user:
-            return jsonify({"error": "Email già registrata"}), 409
+    # Controlla se email già registrata nel database
+    if Account.query.filter_by(email=email).first():
+        return jsonify({"error": "Email già registrata"}), 409
 
-
-        # ----- BENEFICIARIO -----
-        if ruolo == "beneficiario":
-            nome = request.form.get("nome")
-            cognome = request.form.get("cognome")
+    # ----- BENEFICIARIO -----
+    if ruolo == "beneficiario":
+        nome = request.form.get("nome")
+        cognome = request.form.get("cognome")
+        cf = request.form.get("codice_fiscale")
 
-            if not nome or not cognome:
-                return jsonify({"error": "Dati beneficiario incompleti"}), 400
+        if not all([nome, cognome, cf]):
+            return jsonify({"error": "Dati beneficiario incompleti"}), 400
 
-            user = AccountBeneficiario(
-                email=email,
-                nome=nome,
-                cognome=cognome
-            )
-            user.set_password(password)
+        extra_data = {
+            "nome": nome,
+            "cognome": cognome,
+            "codice_fiscale": cf
+        }
 
-        # ----- DONATORE -----
-        elif ruolo == "donatore":
-            partita_iva = request.form.get("partita_iva")
-            categoria = request.form.get("categoria")
-            nome_attivita = request.form.get("nome_attivita")
-            indirizzo_sede = request.form.get("indirizzo_sede")
-            nome = request.form.get("nome")
-            cognome = request.form.get("cognome")
+    # ----- DONATORE -----
+    elif ruolo == "donatore":
+        partita_iva = request.form.get("partita_iva")
+        categoria = request.form.get("categoria")
+        nome_attivita = request.form.get("nome_attivita")
+        indirizzo_sede = request.form.get("indirizzo_sede")
+        nome = request.form.get("nome")
+        cognome = request.form.get("cognome")
 
-            if not all([partita_iva, categoria, nome_attivita,
-                        indirizzo_sede, nome, cognome]):
-                return jsonify({"error": "Dati donatore incompleti"}), 400
+        if not all([partita_iva, categoria, nome_attivita, indirizzo_sede, nome, cognome]):
+            return jsonify({"error": "Dati donatore incompleti"}), 400
 
-            user = AccountEnteDonatore(
-                email = email,
-                nome = nome,
-                cognome = cognome,
-                partita_iva = partita_iva,
-                categoria = categoria,
-                nome_attivita = nome_attivita,
-                indirizzo_sede = indirizzo_sede
-            )
-            user.set_password(password)
+        extra_data = {
+            "partita_iva": partita_iva,
+            "categoria": categoria,
+            "nome_attivita": nome_attivita,
+            "indirizzo_sede": indirizzo_sede,
+            "nome": nome,
+            "cognome": cognome
+        }
 
-        # ----- ENTE EROGATORE -----
-        elif ruolo == "erogatore":
-            nome_org = request.form.get("nome_organizzazione")
-            indirizzo_sede = request.form.get("indirizzo_sede")
-            tipologia = request.form.get("tipologia_ente")
-            iban = request.form.get("iban")
+    # ----- ENTE EROGATORE -----
+    elif ruolo == "erogatore":
+        nome_org = request.form.get("nome_organizzazione")
+        indirizzo_sede = request.form.get("indirizzo_sede")
+        tipologia = request.form.get("tipologia_ente")
+        iban = request.form.get("iban")
 
-            if not all([nome_org, indirizzo_sede, tipologia, iban]):
-                return jsonify({"error": "Dati ente erogatore incompleti"}), 400
+        if not all([nome_org, indirizzo_sede, tipologia, iban]):
+            return jsonify({"error": "Dati ente erogatore incompleti"}), 400
 
-            user = AccountEnteErogatore(
-                email = email,
-                nome_attivita = nome_org,
-                indirizzo_sede = indirizzo_sede,
-                tipologia = tipologia,
-                iban = iban
-            )
-            user.set_password(password)
-            email = request.form.get("email")
-            if not email:
-                return jsonify({"error": "Email mancante"}), 400
+        extra_data = {
+            "nome_organizzazione": nome_org,
+            "indirizzo_sede": indirizzo_sede,
+            "tipologia_ente": tipologia,
+            "iban": iban
+        }
+
+    else:
+        return jsonify({"error": "Ruolo non valido"}), 400
+
+    # Genera OTP a 4 cifre
+    codice = secrets.randbelow(9000) + 1000  # 1000-9999
+
+    # Salva i dati temporanei in sessione (senza password chiaro)
+    extra_data["codice"] = codice
+    pending_account = PendingAccount(
+        email = email,
 
-            # Genera codice OTP sicuro a 4 cifre
-            codice = secrets.randbelow(9000) + 1000  # tra 1000 e 9999
+    )
 
-            # Salva nella sessione solo temporaneamente con scadenza
-            session["registrazione"] = {
-                "user": user,
-                "codice": str(codice),
-                "expires_at": (datetime.utcnow() + timedelta(minutes=10)).isoformat()
-            }
-
-            # Invia email con il codice
-            email_ok = EmailControl.invia_email_codice(email, codice)
+    # Invia email con codice OTP
+    email_ok = EmailControl.invia_email_codice(email, codice)
 
-
-            if email_ok:
-                return jsonify({"message": "Email inviata"}), 200
-            else:
-                return jsonify({"error": "Email non inviata"}), 400
-
-        else:
-            return jsonify({"error": "Ruolo non valido"}), 400
\ No newline at end of file
+    if email_ok:
+        return jsonify({"message": "Email inviata. Controlla la tua casella."}), 200
+    else:
+        return jsonify({"error": "Email non inviata"}), 400
\ No newline at end of file
Index: map4aid_project/controllers/SegnalazioneControl.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>from flask import Flask, request, session, jsonify, Blueprint\r\n\r\nfrom controllers.EmailControl import EmailControl\r\n\r\ndef init_routes(app):\r\n    @app.route(\"/segnalazione\", methods=[\"POST\"])\r\n    def segnalazione():\r\n        data = request.get_json()\r\n\r\n        indirizzo = data[\"indirizzo\"]\r\n        email_ente = data[\"email_ente\"]\r\n\r\n        email_ok = EmailControl.invia_email_segnalazione(email_ente, indirizzo)\r\n\r\n\r\n        if email_ok:\r\n            #Creazione di un nuovo punto di bisogno con stato in attessa\r\n            return {\r\n                \"successo\": True,\r\n                \"messaggio\": \"Segnalazione completata con successo\"\r\n            }\r\n        else:\r\n            return {\r\n                \"successo\": False,\r\n                \"messaggio\": \"Segnalazione non avvenuta\"\r\n            }\r\n\r\n\r\n\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/map4aid_project/controllers/SegnalazioneControl.py b/map4aid_project/controllers/SegnalazioneControl.py
--- a/map4aid_project/controllers/SegnalazioneControl.py	(revision b2a8274b8beeb74add6dfb08b58ef940ee666433)
+++ b/map4aid_project/controllers/SegnalazioneControl.py	(date 1769189003144)
@@ -1,6 +1,6 @@
 from flask import Flask, request, session, jsonify, Blueprint
 
-from controllers.EmailControl import EmailControl
+from EmailControl import EmailControl
 
 def init_routes(app):
     @app.route("/segnalazione", methods=["POST"])
Index: map4aid_project/controllers/DonazioneMonetariaControl.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>from flask import request, session, Blueprint\r\nfrom models import models\r\n\r\nfrom controllers.EmailControl import EmailControl\r\nfrom controllers.Permessi import require_roles\r\n\r\n\r\ndef init_routes(app):\r\n    @app.route(\"/donazioneMonetaria\", methods=[\"POST\"])\r\n    @require_roles(\"ente_donatore\")\r\n    def donazione_monetaria():\r\n            # ---- DATI DA SESSIONE ----\r\n        email_donatore = session.get(\"user_email\")\r\n\r\n        # ---- DATI DA FORM ----\r\n        nome_ente = request.form.get(\"ente\")\r\n        numero_carta = request.form.get(\"numero_carta\")\r\n        scadenza = request.form.get(\"scadenza\")\r\n        cvv = request.form.get(\"cvv\")\r\n\r\n        try:\r\n            importo = float(request.form.get(\"importo\"))\r\n        except (TypeError, ValueError):\r\n            return {\"successo\": False, \"errore\": \"Importo non valido\"}\r\n\r\n        #Bisogna prendere l'email e l'iban dell'ente dal database tramite nome\r\n\r\n        # ---- VALIDAZIONE ----\r\n        if not all([email_ente, iban_ente, numero_carta, scadenza, cvv]):\r\n            return {\"successo\": False, \"errore\": \"Dati obbligatori mancanti\"}\r\n\r\n        if importo <= 0:\r\n            return {\"successo\": False, \"errore\": \"Importo non valido\"}\r\n\r\n        # ---- TRANSAZIONE MONETARIA ----\r\n        transazione_ok = esegui_transazione(\r\n            numero_carta, scadenza, cvv, iban_ente, importo\r\n        )\r\n\r\n        if not transazione_ok:\r\n            return {\"successo\": False, \"errore\": \"Transazione rifiutata\"}\r\n\r\n        # ---- CREAZIONE ENTITY ----\r\n        donazione = DonazioneMonetaria(\r\n            id_donatore=email_donatore,\r\n            id_erogatore=iban_ente,\r\n            importo=importo\r\n        )\r\n\r\n        #Da aggiungere nel database\r\n\r\n        # ---- EMAIL DI CONFERMA ----\r\n        email_ok = EmailControl.invia_email_donazione(\r\n            email_ente=email_ente,\r\n            nome_ente=nome_ente,\r\n            email_donatore=email_donatore,\r\n            importo=importo,\r\n            data=donazione.data\r\n        )\r\n\r\n        if not email_ok:\r\n            return {\r\n                \"successo\": False,\r\n                \"errore\": \"Donazione eseguita ma email non inviata\"\r\n            }\r\n\r\n        return {\r\n            \"successo\": True,\r\n            \"messaggio\": \"Donazione monetaria completata con successo\"\r\n        }\r\n\r\n\r\n    def esegui_transazione(self, numero_carta, scadenza, cvv,\r\n                            iban_destinatario, importo):\r\n        print(\"transazione in elaborazione\")\r\n        if len(numero_carta) != 16:\r\n            return False\r\n        if len(cvv) != 3:\r\n            return False\r\n        if not iban_destinatario.startswith(\"IT\"):\r\n            return False\r\n        return True\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/map4aid_project/controllers/DonazioneMonetariaControl.py b/map4aid_project/controllers/DonazioneMonetariaControl.py
--- a/map4aid_project/controllers/DonazioneMonetariaControl.py	(revision b2a8274b8beeb74add6dfb08b58ef940ee666433)
+++ b/map4aid_project/controllers/DonazioneMonetariaControl.py	(date 1769187607126)
@@ -1,8 +1,8 @@
 from flask import request, session, Blueprint
 from models import models
 
-from controllers.EmailControl import EmailControl
-from controllers.Permessi import require_roles
+from EmailControl import EmailControl
+from Permessi import require_roles
 
 
 def init_routes(app):
Index: .gitignore.txt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>__pycache__/\r\ninstance/\r\n*.db\r\nmigrations/__pycache__/\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.gitignore.txt b/.gitignore.txt
--- a/.gitignore.txt	(revision b2a8274b8beeb74add6dfb08b58ef940ee666433)
+++ b/.gitignore.txt	(date 1769189156172)
@@ -1,4 +1,13 @@
-__pycache__/
-instance/
-*.db
-migrations/__pycache__/
+--- Python ---
+pycache/
+*.pyc
+*.pyo
+.pyd
+
+--- Virtual environment ---
+map4aid_project/venv/
+map4aid_project/env/
+
+--- Flask instance & DB ---
+map4aid_project/instance/
+map4aid_project/.db
Index: map4aid_project/app.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import os\r\nfrom flask import Flask\r\nfrom config import db, migrate\r\n\r\ndef create_app():\r\n    # Attiva la gestione della cartella instance/\r\n    app = Flask(__name__, instance_relative_config=True)\r\n\r\n    #mi assicuro che esista la cartella instance\r\n    os.makedirs(app.instance_path, exist_ok=True)\r\n\r\n    #configurazione db, sempre dentro instance\r\n    app.config['SQLALCHEMY_DATABASE_URI'] = f\"sqlite:///{app.instance_path}/database.db\"\r\n    app.config['SQLALCHEMY_TRACK_MODIFICATIONS'] = False\r\n    app.config['SECRET_KEY'] = 'skMomentanea'\r\n\r\n    # Inizializza estensioni\r\n    db.init_app(app)\r\n    migrate.init_app(app, db)\r\n\r\n    import models\r\n\r\n    import AutenticazioneControl\r\n    AutenticazioneControl.init_routes(app)\r\n    import EmailControl\r\n\r\n    @app.route(\"/\")\r\n    def home():\r\n        return \"sono on\"\r\n\r\n    return app\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/map4aid_project/app.py b/map4aid_project/app.py
--- a/map4aid_project/app.py	(revision b2a8274b8beeb74add6dfb08b58ef940ee666433)
+++ b/map4aid_project/app.py	(date 1769191546257)
@@ -18,12 +18,13 @@
     db.init_app(app)
     migrate.init_app(app, db)
 
-    import models
+    from models import models
+    from models import pendngAccounts
 
     import AutenticazioneControl
     AutenticazioneControl.init_routes(app)
     import EmailControl
-
+    print(">>>>>Flask root:", os.getcwd())
     @app.route("/")
     def home():
         return "sono on"
Index: map4aid_project/models/pendngAccounts.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/map4aid_project/models/pendngAccounts.py b/map4aid_project/models/pendngAccounts.py
new file mode 100644
--- /dev/null	(date 1769189873503)
+++ b/map4aid_project/models/pendngAccounts.py	(date 1769189873503)
@@ -0,0 +1,31 @@
+from werkzeug.security import generate_password_hash, check_password_hash
+
+from config import db
+from datetime import datetime, timezone
+
+
+class PendingAccount(db.Model):
+    __tablename__ = "pending_accounts"
+
+    id = db.Column(db.Integer, primary_key=True)
+
+    # token di verifica (link email)
+    token = db.Column(db.String(64), unique=True, nullable=False, index=True)
+
+    # dati comuni Account
+    email = db.Column(db.String(120), nullable=False)
+    password_hash = db.Column(db.String(255), nullable=False)
+    tipo = db.Column(db.String(50), nullable=False)
+
+    # dati specifici del tipo (beneficiario, ente, ecc.)
+    extra_data = db.Column(db.JSON, nullable=False)
+
+    expires_at = db.Column(db.DateTime, nullable=False)
+    created_at = db.Column(db.DateTime(timezone=True), default=lambda: datetime.now(timezone.utc), nullable=False)
+
+    # gestione password
+    def set_password(self, password):
+        self.password_hash = generate_password_hash(password)
+
+    def check_password(self, password):
+        return check_password_hash(self.password_hash, password)
\ No newline at end of file
Index: .idea/workspace.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"ChangeListManager\">\r\n    <list default=\"true\" id=\"55397952-be6e-4a64-8a4f-522745ebe921\" name=\"Changes\" comment=\"\" />\r\n    <option name=\"SHOW_DIALOG\" value=\"false\" />\r\n    <option name=\"HIGHLIGHT_CONFLICTS\" value=\"true\" />\r\n    <option name=\"HIGHLIGHT_NON_ACTIVE_CHANGELIST\" value=\"false\" />\r\n    <option name=\"LAST_RESOLUTION\" value=\"IGNORE\" />\r\n  </component>\r\n  <component name=\"FileTemplateManagerImpl\">\r\n    <option name=\"RECENT_TEMPLATES\">\r\n      <list>\r\n        <option value=\"Python Script\" />\r\n      </list>\r\n    </option>\r\n  </component>\r\n  <component name=\"Git.Settings\">\r\n    <option name=\"RECENT_GIT_ROOT_PATH\" value=\"$PROJECT_DIR$\" />\r\n  </component>\r\n  <component name=\"ProjectColorInfo\">{\r\n  &quot;associatedIndex&quot;: 4\r\n}</component>\r\n  <component name=\"ProjectId\" id=\"38FPBu2HuieGGiTHouE7QUrUW7k\" />\r\n  <component name=\"ProjectViewState\">\r\n    <option name=\"autoscrollFromSource\" value=\"true\" />\r\n    <option name=\"autoscrollToSource\" value=\"true\" />\r\n    <option name=\"hideEmptyMiddlePackages\" value=\"true\" />\r\n    <option name=\"showLibraryContents\" value=\"true\" />\r\n  </component>\r\n  <component name=\"PropertiesComponent\"><![CDATA[{\r\n  \"keyToString\": {\r\n    \"ModuleVcsDetector.initialDetectionPerformed\": \"true\",\r\n    \"RunOnceActivity.ShowReadmeOnStart\": \"true\",\r\n    \"RunOnceActivity.git.unshallow\": \"true\",\r\n    \"RunOnceActivity.typescript.service.memoryLimit.init\": \"true\",\r\n    \"ai.playground.ignore.import.keys.banner.in.settings\": \"true\",\r\n    \"git-widget-placeholder\": \"Autenticazione\",\r\n    \"ignore.virus.scanning.warn.message\": \"true\",\r\n    \"nodejs_package_manager_path\": \"npm\",\r\n    \"vue.rearranger.settings.migration\": \"true\"\r\n  }\r\n}]]></component>\r\n  <component name=\"SharedIndexes\">\r\n    <attachedChunks>\r\n      <set>\r\n        <option value=\"bundled-js-predefined-d6986cc7102b-9b0f141eb926-JavaScript-PY-253.29346.142\" />\r\n        <option value=\"bundled-python-sdk-f2b7a9f6281b-6e1f45a539f7-com.jetbrains.pycharm.pro.sharedIndexes.bundled-PY-253.29346.142\" />\r\n      </set>\r\n    </attachedChunks>\r\n  </component>\r\n  <component name=\"TaskManager\">\r\n    <task active=\"true\" id=\"Default\" summary=\"Default task\">\r\n      <changelist id=\"55397952-be6e-4a64-8a4f-522745ebe921\" name=\"Changes\" comment=\"\" />\r\n      <created>1768392214348</created>\r\n      <option name=\"number\" value=\"Default\" />\r\n      <option name=\"presentableId\" value=\"Default\" />\r\n      <updated>1768392214348</updated>\r\n      <workItem from=\"1768392215557\" duration=\"762000\" />\r\n      <workItem from=\"1768403983401\" duration=\"1338000\" />\r\n    </task>\r\n    <servers />\r\n  </component>\r\n  <component name=\"TypeScriptGeneratedFilesManager\">\r\n    <option name=\"version\" value=\"3\" />\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/workspace.xml b/.idea/workspace.xml
--- a/.idea/workspace.xml	(revision b2a8274b8beeb74add6dfb08b58ef940ee666433)
+++ b/.idea/workspace.xml	(date 1769193716211)
@@ -1,7 +1,18 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <project version="4">
   <component name="ChangeListManager">
-    <list default="true" id="55397952-be6e-4a64-8a4f-522745ebe921" name="Changes" comment="" />
+    <list default="true" id="55397952-be6e-4a64-8a4f-522745ebe921" name="Changes" comment="">
+      <change afterPath="$PROJECT_DIR$/map4aid_project/_init_.py" afterDir="false" />
+      <change afterPath="$PROJECT_DIR$/map4aid_project/models/_init_.py" afterDir="false" />
+      <change afterPath="$PROJECT_DIR$/map4aid_project/models/pendngAccounts.py" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/.gitignore.txt" beforeDir="false" afterPath="$PROJECT_DIR$/.gitignore.txt" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/workspace.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/map4aid_project/app.py" beforeDir="false" afterPath="$PROJECT_DIR$/map4aid_project/app.py" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/map4aid_project/controllers/AutenticazioneControl.py" beforeDir="false" afterPath="$PROJECT_DIR$/map4aid_project/controllers/AutenticazioneControl.py" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/map4aid_project/controllers/DonazioneMonetariaControl.py" beforeDir="false" afterPath="$PROJECT_DIR$/map4aid_project/controllers/DonazioneMonetariaControl.py" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/map4aid_project/controllers/SegnalazioneControl.py" beforeDir="false" afterPath="$PROJECT_DIR$/map4aid_project/controllers/SegnalazioneControl.py" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/map4aid_project/instance/database.db" beforeDir="false" afterPath="$PROJECT_DIR$/map4aid_project/instance/database.db" afterDir="false" />
+    </list>
     <option name="SHOW_DIALOG" value="false" />
     <option name="HIGHLIGHT_CONFLICTS" value="true" />
     <option name="HIGHLIGHT_NON_ACTIVE_CHANGELIST" value="false" />
@@ -17,6 +28,18 @@
   <component name="Git.Settings">
     <option name="RECENT_GIT_ROOT_PATH" value="$PROJECT_DIR$" />
   </component>
+  <component name="GitHubPullRequestSearchHistory">{
+  &quot;lastFilter&quot;: {
+    &quot;state&quot;: &quot;OPEN&quot;,
+    &quot;assignee&quot;: &quot;girgio&quot;
+  }
+}</component>
+  <component name="GithubPullRequestsUISettings">{
+  &quot;selectedUrlAndAccountId&quot;: {
+    &quot;url&quot;: &quot;https://github.com/cristian-carotenuto/map4aid.git&quot;,
+    &quot;accountId&quot;: &quot;ac26df4b-dbc5-47f8-91a4-7e31c3885a9b&quot;
+  }
+}</component>
   <component name="ProjectColorInfo">{
   &quot;associatedIndex&quot;: 4
 }</component>
@@ -30,16 +53,25 @@
   <component name="PropertiesComponent"><![CDATA[{
   "keyToString": {
     "ModuleVcsDetector.initialDetectionPerformed": "true",
+    "Python.test.executor": "Run",
     "RunOnceActivity.ShowReadmeOnStart": "true",
+    "RunOnceActivity.TerminalTabsStorage.copyFrom.TerminalArrangementManager.252": "true",
     "RunOnceActivity.git.unshallow": "true",
     "RunOnceActivity.typescript.service.memoryLimit.init": "true",
     "ai.playground.ignore.import.keys.banner.in.settings": "true",
-    "git-widget-placeholder": "Autenticazione",
+    "git-widget-placeholder": "controller",
     "ignore.virus.scanning.warn.message": "true",
+    "last_opened_file_path": "C:/Users/Giovanni/Documents/GitHub/progetto-is/map4aid_project",
     "nodejs_package_manager_path": "npm",
     "vue.rearranger.settings.migration": "true"
   }
 }]]></component>
+  <component name="RecentsManager">
+    <key name="CopyFile.RECENT_KEYS">
+      <recent name="C:\Users\Giovanni\Documents\GitHub\progetto-is\map4aid_project" />
+      <recent name="C:\Users\Giovanni\Documents\GitHub\progetto-is\map4aid_project\models" />
+    </key>
+  </component>
   <component name="SharedIndexes">
     <attachedChunks>
       <set>
@@ -57,10 +89,17 @@
       <updated>1768392214348</updated>
       <workItem from="1768392215557" duration="762000" />
       <workItem from="1768403983401" duration="1338000" />
+      <workItem from="1769186513179" duration="772000" />
+      <workItem from="1769187309856" duration="1206000" />
+      <workItem from="1769188544451" duration="745000" />
+      <workItem from="1769189316896" duration="4368000" />
     </task>
     <servers />
   </component>
   <component name="TypeScriptGeneratedFilesManager">
     <option name="version" value="3" />
   </component>
+  <component name="com.intellij.coverage.CoverageDataManagerImpl">
+    <SUITE FILE_PATH="coverage/progetto_is$test.coverage" NAME="test Coverage Results" MODIFIED="1769190857022" SOURCE_PROVIDER="com.intellij.coverage.DefaultCoverageFileProvider" RUNNER="coverage.py" COVERAGE_BY_TEST_ENABLED="false" COVERAGE_TRACING_ENABLED="false" WORKING_DIRECTORY="$PROJECT_DIR$/map4aid_project/models" />
+  </component>
 </project>
\ No newline at end of file
diff --git a/map4aid_project/models/_init_.py b/map4aid_project/models/_init_.py
new file mode 100644
diff --git a/map4aid_project/_init_.py b/map4aid_project/_init_.py
new file mode 100644
